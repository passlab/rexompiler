<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROSE: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="ROSE"/>
<link href="roseDoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ROSE
   &#160;<span id="projectnumber">0.11.96.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,true,'search.html','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation<div class="ingroups"><a class="el" href="group__sawyer.html">Sawyer Support Library</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Sawyer can be downloaded from <a href="https://github.com/matzke1/sawyer">GitHub</a>. For example:</p>
<div class="fragment"><div class="line">$ SAWYER_SRC=/directory/in/which/to/<a class="code" href="namespaceSawyer_1_1CommandLine_1_1Boost.html#a5422f52e1c80924928f4e55aa6bbfec4">store</a>/sources</div>
<div class="line">$ git clone https:<span class="comment">//github.com/matzke1/sawyer $SAWYER_SRC</span></div>
</div><!-- fragment --><p>Sawyer uses <a href="http://www.cmake.org/">cmake</a> as its configuration and build system and building is typically performed in a separate directory from the source. The author usually creates various "_build-whatever" directories at the top level of the source code directory, but the build directories can be located anywhere. CMake operates in two steps: first one configures the build environment using the "cmake" command, then the library is built and installed. Here is a typical configuration step:</p>
<div class="fragment"><div class="line">$ SAWYER_BLD=/some/directory/in/which/to/build</div>
<div class="line">$ mkdir $SAWYER_BLD</div>
<div class="line">$ cd $SAWYER_BLD</div>
<div class="line">$ cmake $SAWYER_SRC -DBOOST_ROOT=/location/of/boost -DCMAKE_INSTALL_PREFIX:PATH=/place/to/install/sawyer</div>
</div><!-- fragment --><p>The <code>BOOST_ROOT</code> should be the directory containing Boost's "include" and "lib" directories. It's necessary only when Boost isn't installed in a well-known location. In addition to Boost header files, Sawyer also requires these Boost libraries: iostreams, system, filesystem, regex, chrono, and thread. These libraries should have been compiled with the same C++ compiler and switches as Sawyer.</p>
<p>The <code>CMAKE_BUILD_TYPE</code> can be specified to control whether a debug or release version of the library is created. Its value should be the word "Debug" or "Release". The default is "Release". For instance, "-DCMAKE_BUILD_TYPE=Debug".</p>
<p>The <code>CMAKE_INSTALL_PREFIX</code> is the directory that will contain the "include" and "lib" subdirectories where Sawyer is eventually installed. Sawyer is also designed to be used directly from the build directory if desired.</p>
<p>CMake will configure Sawyer to use the system's multi-threading support by default. If you plan to use Sawyer in only single-threaded programs you can avoid the thread dependencies by providing the "-DTHREAD_SAFE:BOOL=no" switch, in which case even those parts of the API that are documented as being thread-safe will probably not be safe. Within a program that uses Sawyer, one can check whether multi-thread support was enabled by checking the <code>SAWYER_MULTI_THREADED</code> C preprocessor symbol; it will be defined as zero if multi-threading is disabled, and non-zero otherwise. The <code>SAWYER_THREAD_TRAITS</code> will point to one of the <a class="el" href="structSawyer_1_1SynchronizationTraits.html">Sawyer::SynchronizationTraits</a> specializations, and <code>SAWYER_THREAD_TRAITS::SUPPORTED</code> is true or false depending on whether multi-threading is supported.</p>
<p>The next step after configuration is to build the library and tests:</p>
<div class="fragment"><div class="line">$ cd $SAWYER_BLD</div>
<div class="line">$ make</div>
</div><!-- fragment --><p>Parallel building is supported with "make -jN" where <em>N</em> is the maximum number of parallel compile commands to allow. If you need to see the compilation commands that are executed, add "VERBOSE=1" to the "make" command.</p>
<p>Finally, the library can be installed and the build directory can be removed:</p>
<div class="fragment"><div class="line">$ cd $SAWYER_BLD</div>
<div class="line">$ make install</div>
</div><!-- fragment --><p>The current build system makes no attempt to name libraries in ways that distinguish the Boost version, build type, thread-support, compiler version, etc. We recommend that Sawyer be used only in programs that are built with compatible configuration, and the CMAKE_INSTALL_PREFIX can be used to create a naming scheme to install multiple Sawyer configurations on one machine.</p>
<h1><a class="anchor" id="mingw"></a>
Cross compiling on Linux targeting Microsoft Windows</h1>
<p>Sawyer is not regularly tested on Microsoft platforms, but the MinGW compiler is supported. On Debian this compiler can be installed with "sudo apt-get install mingw-w64". One also needs cross-compiled Boost libraries, that can be created with these steps:</p>
<ul>
<li>Download and untar the Boost source code (this example uses version 1.47). </li>
<li>Run "boostrap.sh" in the Boost source directory </li>
<li>Edit project-config.jam and replace the (commented out) "using gcc" line with "using gcc : mingw32 :
     i586-mingw32msvc-g++ ;". The space before the semi-colon is required. </li>
<li>Create the installation directory. This example uses "$HOME/lib-mingw32/boost-1.47". </li>
<li>Compile Boost with the following commands. The NO_ZLIB and NO_BZIP2 are for the iostreams package since we didn't cross compile zlib or bzip2 (Sawyer doesn't use those features of iosreams).</li>
</ul>
<div class="fragment"><div class="line">$ ./bjam --help</div>
<div class="line">$ ./bjam install toolset=gcc-mingw32 \</div>
<div class="line">      --prefix=$HOME/lib-mingw32/boost-1.47 \</div>
<div class="line">      --layout=versioned \</div>
<div class="line">      --with-iostreams --with-system --with-filesystem --with-regex --with-chrono \</div>
<div class="line">      -sNO_ZLIB=1 -sNO_BZIP2=1</div>
</div><!-- fragment --><p>To compile Sawyer use the same cmake command as for native compiling, but add "-DCMAKE_TOOLCHAIN_FILE=$SAWYER_SRC/Toolchain-cross-mingw32-linux.cmake". Also make sure the <code>BOOST_ROOT</code> parameter points to the cross-compiled version of Boost, which must be installed in a directory that's at or below one of the <code>CMAKE_FIND_ROOT_PATH</code> directories specified in the Toolchain-cross-mingw32-linux.cmake. Then run "make" and "make install" like normal.</p>
<h1><a class="anchor" id="msvc"></a>
Native compiling with Microsoft Visual Studio</h1>
<p>Sawyer is seldom tested in this manner, but Microsoft Visual Studio versions 10 2010 and 12 2013 have been tested at time or another. To install Boost, follow the instructions at the <a href="http://boost.org">Boost web site</a>. The instructions didn't work for my virtual machine with Windows 8.1 Enterprise and Visual Studio 12 2013, so I used precompiled Boost libraries I found at boost.org [Matzke].</p>
<p>Generate a Visual Studio project file with a command like this, and the usual CMake options described above. IIRC, cmake expects Windows-style path names having backslashes instead of POSIX names.</p>
<div class="fragment"><div class="line">cmake -G <span class="stringliteral">&quot;Visual Studio 12 2013&quot;</span> ...</div>
</div><!-- fragment --><p>Then fire up the Visual Studio IDE, open the project file, right click on a "solution", and select "Build". </p>
<div class="dynheader">
Collaboration diagram for Installation:</div>
<div class="dyncontent">
<div class="center"><img src="group__sawyer__installation.png" border="0" usemap="#group____sawyer____installation" alt=""/></div>
<map name="group____sawyer____installation" id="group____sawyer____installation">
<area shape="rect" title=" " alt="" coords="212,5,297,31"/>
<area shape="rect" href="group__sawyer.html" title="Sawyer is a library for library writers. It&#39;s used by software such as ROSE and part of Sawyer is dis..." alt="" coords="5,5,164,31"/>
</map>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespaceSawyer_1_1CommandLine_1_1Boost_html_a5422f52e1c80924928f4e55aa6bbfec4"><div class="ttname"><a href="namespaceSawyer_1_1CommandLine_1_1Boost.html#a5422f52e1c80924928f4e55aa6bbfec4">Sawyer::CommandLine::Boost::store</a></div><div class="ttdeci">void store(const Sawyer::CommandLine::ParserResult &amp;results, variables_map &amp;output)</div><div class="ttdoc">Transfer parser results to map.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 19 2022 23:39:55 for ROSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
