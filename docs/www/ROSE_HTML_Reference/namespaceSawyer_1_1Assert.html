<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROSE: Sawyer::Assert Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="ROSE"/>
<link href="roseDoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ROSE
   &#160;<span id="projectnumber">0.11.96.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,true,'search.html','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceSawyer.html">Sawyer</a></li><li class="navelem"><a class="el" href="namespaceSawyer_1_1Assert.html">Assert</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Sawyer::Assert Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Run-time logic assertions. </p>
<p>This library defines a collection of logic assertion macros (mostly) beginning with "ASSERT_". Many of the macros come in two flavors: with or without an <code>std::string</code> argument to describe what is being asserted. Since there is not an official portable way for macros to have a variable number of arguments, macros that take a descriptive string have "2" appended to their names. Macros with "always" in their name are always enabled, while some of the others are only enabled when <code>NDEBUG</code> and <code>SAWYER_NDEBUG</code> are both undefined. Macros that are enabled evaluate their arguments one time each, and macros that are disabled do not evaluate their arguments at all.</p>
<p>The following macros are defined with "ASSERT_" prefix, optional "always", and optional trailing "2":</p>
<ul>
<li><code>require(<em>expr</em>, [<em>note</em>])</code>: Asserts that <em>expr</em> evaluates to true, or fails with the message "assertion failed: required" with details about the failure. </li>
<li><code>forbid(<em>expr</em>, [<em>note</em>])</code>: Asserts that <em>expr</em> evaluates to false, or fails with the message "assertion failed: prohibitted" with details about the failure. </li>
<li><code>not_null(<em>expr</em>, [<em>note</em>])</code>: Asserts that <em>expr</em> evaluate to non-null, or fails with the message "null pointer" with details about the failure. </li>
<li><code>this()</code>: Asserts that the containing function is an object method invoked on a non-null object. If the function is not an object method then the compiler will emit an error. If the object is null at the time of invocation then the program fails with the message "'this' cannot be null in an object method". </li>
<li><code>not_reachable(<em>note</em>)</code>: Always fails with the message "reached impossible state". This macro is not disabled when SAWYER_NDEBUG is set. </li>
<li><code>not_implemented(<em>note</em>)</code>: Always fails with the message "not implemented yet". This macro is not disabled when SAWYER_NDEBUG is set.</li>
</ul>
<p>Some examples:</p>
<div class="fragment"><div class="line"><span class="comment">// Require the condition to be true, or fail with this message.</span></div>
<div class="line">ASSERT_require2(sz1 &gt; sz2, <span class="stringliteral">&quot;vector one must have more elements than vector two&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Forbid a vector from being empty.</span></div>
<div class="line">ASSERT_forbid2(users.empty(), <span class="stringliteral">&quot;search must have yielded at least one user&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Plain, old-fashioned assert.</span></div>
<div class="line">ASSERT_require(pointer != NULL)</div>
<div class="line"> </div>
<div class="line"><span class="comment">// A better way to write the same thing.</span></div>
<div class="line">ASSERT_not_null(pointer)</div>
<div class="line"> </div>
<div class="line"><span class="comment">// An even better way to write the same thing.</span></div>
<div class="line">ASSERT_not_null2(pointer, <span class="stringliteral">&quot;foo has failed to obtain a valid bar&quot;</span>);</div>
</div><!-- fragment --><p>The following macros do not start with "ASSERT_" because they are widely recognized by IDEs. They are aso not disabled when <code>SAWYER_NDEBUG</code> is set.</p>
<ul>
<li>
<code>TODO(<em>note</em>)</code>: Always fails with the message "not implemented yet". </li>
<li>
<code>FIXME(<em>note</em>)</code>: Always fails with the message "needs to be fixed". </li>
</ul>
<p>When using a <em>note</em> argument, the note should be written in the affirmative, i.e., a statement of what condition causes the assertion to pass. It should describe what the macro is asserting, not what went wrong when the macro failed. For instance, if you're checking that two vectors are the same length, then the note should be something like "name and ID
 vectors must be the same size". Writing notes in the affirmative has two benefits: (1) the note documents the code, and (2) if the assertion fails the message makes sense to the user, namely "assertion failed: name and ID vectors must be the same
 size".</p>
<p>Failed assertions output to <a class="el" href="namespaceSawyer_1_1Message.html#a7bb715d1c4db66507766c1e2de522473" title="The stream to be used for assertions.">Sawyer::Message::assertionStream</a>, which defaults to <code><a class="el" href="namespaceSawyer_1_1Message.html#a26daa7a957cb93fe351393e5cc4ecfb0" title="Facility used by Sawyer components.">Sawyer::Message::mlog</a>[FATAL]</code>. This variable is initialized at the first call to <a class="el" href="namespaceSawyer_1_1Assert.html#a185766b790e1a467b609b9009e0c8984">fail</a> if it is a null pointer. Users can assign a different stream to it any time before then:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) {</div>
<div class="line">    <a class="code" href="namespaceSawyer_1_1Message.html#a7bb715d1c4db66507766c1e2de522473">Sawyer::Message::assertionStream</a> = Sawer::Message::mlog[<a class="code" href="namespaceSawyer_1_1Message.html#abfb4d3240797db3a74bbf691f708a1c9abb7c0d080435a4a981ba171d08dc3bb7">FATAL</a>];</div>
</div><!-- fragment --> </div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a746ca0de12acbb5d2bea8e5733641560"><td class="memItemLeft" align="right" valign="top"><a id="a746ca0de12acbb5d2bea8e5733641560"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceSawyer_1_1Assert.html#a746ca0de12acbb5d2bea8e5733641560">AssertFailureHandler</a>) (const char *mesg, const char *expr, const std::string &amp;note, const char *filename, unsigned linenum, const char *funcname)</td></tr>
<tr class="memdesc:a746ca0de12acbb5d2bea8e5733641560"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceSawyer_1_1Type.html" title="Data types.">Type</a> for user-defined assertion failure handler. <br /></td></tr>
<tr class="separator:a746ca0de12acbb5d2bea8e5733641560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a185766b790e1a467b609b9009e0c8984"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceSawyer_1_1Assert.html#a185766b790e1a467b609b9009e0c8984">fail</a> (const char *mesg, const char *expr, const std::string &amp;note, const char *filename, unsigned linenum, const char *funcname)</td></tr>
<tr class="memdesc:a185766b790e1a467b609b9009e0c8984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cause immediate failure.  <a href="namespaceSawyer_1_1Assert.html#a185766b790e1a467b609b9009e0c8984">More...</a><br /></td></tr>
<tr class="separator:a185766b790e1a467b609b9009e0c8984"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af0bfc75b1328418857807b234e0c0123"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceSawyer_1_1Assert.html#a746ca0de12acbb5d2bea8e5733641560">AssertFailureHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceSawyer_1_1Assert.html#af0bfc75b1328418857807b234e0c0123">assertFailureHandler</a></td></tr>
<tr class="memdesc:af0bfc75b1328418857807b234e0c0123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional user callback to handle assertion failures.  <a href="namespaceSawyer_1_1Assert.html#af0bfc75b1328418857807b234e0c0123">More...</a><br /></td></tr>
<tr class="separator:af0bfc75b1328418857807b234e0c0123"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a185766b790e1a467b609b9009e0c8984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185766b790e1a467b609b9009e0c8984">&#9670;&nbsp;</a></span>fail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sawyer::Assert::fail </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mesg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>note</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>linenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>funcname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cause immediate failure. </p>
<p>This function is the low-level function called by most of the other <a class="el" href="namespaceSawyer_1_1Assert.html" title="Run-time logic assertions.">Sawyer::Assert</a> macros when an assertion fails. Calls to this function do not return. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af0bfc75b1328418857807b234e0c0123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bfc75b1328418857807b234e0c0123">&#9670;&nbsp;</a></span>assertFailureHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceSawyer_1_1Assert.html#a746ca0de12acbb5d2bea8e5733641560">AssertFailureHandler</a> Sawyer::Assert::assertFailureHandler</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optional user callback to handle assertion failures. </p>
<p>If this variable has a non-null value, then that function is called after the failed assertion message is emitted. This allows the user to terminate the program some other way than the default <code>abort</code> call. In any case, this function should not return; if it does, then <code>abort</code> is called. </p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespaceSawyer_1_1Message_html_a7bb715d1c4db66507766c1e2de522473"><div class="ttname"><a href="namespaceSawyer_1_1Message.html#a7bb715d1c4db66507766c1e2de522473">Sawyer::Message::assertionStream</a></div><div class="ttdeci">SProxy assertionStream</div><div class="ttdoc">The stream to be used for assertions.</div></div>
<div class="ttc" id="anamespaceSawyer_1_1Message_html_abfb4d3240797db3a74bbf691f708a1c9abb7c0d080435a4a981ba171d08dc3bb7"><div class="ttname"><a href="namespaceSawyer_1_1Message.html#abfb4d3240797db3a74bbf691f708a1c9abb7c0d080435a4a981ba171d08dc3bb7">Sawyer::Message::FATAL</a></div><div class="ttdeci">@ FATAL</div><div class="ttdoc">Messages that indicate an abnormal situation from which the program was unable to recover.</div><div class="ttdef"><b>Definition:</b> <a href="Message_8h_source.html#l00332">Message.h:332</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 8 2022 21:18:51 for ROSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
