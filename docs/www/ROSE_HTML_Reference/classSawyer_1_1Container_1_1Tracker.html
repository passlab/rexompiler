<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROSE: Sawyer::Container::Tracker&lt; T, K, Traits &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="ROSE"/>
<link href="roseDoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ROSE
   &#160;<span id="projectnumber">0.11.96.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,true,'search.html','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceSawyer.html">Sawyer</a></li><li class="navelem"><a class="el" href="namespaceSawyer_1_1Container.html">Container</a></li><li class="navelem"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html">Tracker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classSawyer_1_1Container_1_1Tracker-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Sawyer::Container::Tracker&lt; T, K, Traits &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><h3>template&lt;class T, class K = T, class Traits = TrackerTraits&lt;K&gt;&gt;<br />
class Sawyer::Container::Tracker&lt; T, K, Traits &gt;</h3>

<p>Tracks whether something has been seen before. </p>
<p>Template parameter <code>T</code> are the things that are being tracked, but the tracker doesn't necessarily store them. Instead, it stores a key, type <code>K</code>, that can be derived from <code>T</code> and which might be a lot smaller.</p>
<p>Many iterative algorithms need to operate on an object just once. They use an <code>std::set</code> to remember which objects they've encountered already. For example:</p>
<div class="fragment"><div class="line"><span class="comment">// C++03</span></div>
<div class="line">std::set&lt;Thing&gt; seen;</div>
<div class="line"><span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><span class="keywordflow">while</span> (!done) {</div>
<div class="line">    std::vector&lt;Thing&gt; things = findSomeThings(); <span class="comment">// unsorted</span></div>
<div class="line">    done = <span class="keyword">true</span>; <span class="comment">// unless we process something</span></div>
<div class="line">    BOOST_FOREACH (<span class="keyword">const</span> Thing &amp;thing, things) {</div>
<div class="line">        <span class="keywordflow">if</span> (seen.insert(thing).second) {</div>
<div class="line">            process(thing);</div>
<div class="line">            done = <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>There are two problems with the above code:</p>
<ul>
<li>If <code>Thing</code> is large, then storing it in an <code>std::set</code> is expensive. In fact, <code>Thing</code> might not even be copyable in which case storing it in the set is impossible. Authors work around this by storing a proxy for the <code>Thing</code>, such as an identification number. </li>
<li>The <code>for</code> loop serializes the processing of the objects, but it might be more efficient to process all the <code>things</code> at once. Authors do this by filtering out from the vector those things that have already been processed in a previous pass.</li>
</ul>
<p>So a more realistic implementation looks like this:</p>
<div class="fragment"><div class="line"><span class="comment">// C++03</span></div>
<div class="line">std::set&lt;Identifier&gt; seen;</div>
<div class="line"><span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><span class="keywordflow">while</span> (!done) {</div>
<div class="line">    std::vector&lt;Thing&gt; things = findSomeThings(); <span class="comment">// unsorted</span></div>
<div class="line">    <span class="keywordtype">size_t</span> nSaved = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; things.size(); ++i) {</div>
<div class="line">        <span class="keywordflow">if</span> (seen.insert(Identifier(things[i])).second)</div>
<div class="line">            things[nSaved++] = things[i];</div>
<div class="line">    }</div>
<div class="line">    things.resize(nSaved);</div>
<div class="line">    done = things.empty();</div>
<div class="line">    process(things);</div>
<div class="line">}</div>
</div><!-- fragment --><p>The main problem with the above implementation is there's a lot going on that isn't the main point of the algorithm:</p>
<ul>
<li>The <code>seen</code> set stores values of type <code>Identifier</code> and there's nothing really obvious that says that <code>Identifier</code> is related somehow to <code>Thing</code>. You'd have to go find the definition of <code>Identifier</code> to see that it can be implicitly constructed from <code>Thing</code>. </li>
<li>There's a whole six lines (almost half the implementation) to remove things that have already been processed in a previous iteration. It would be nice to be able to use std::vector::erase together with std::remove_if, but in C++03 that takes no fewer lines and they're moved farther away in their own class.</li>
</ul>
<p>The purpose of the <code><a class="el" href="classSawyer_1_1Container_1_1Tracker.html" title="Tracks whether something has been seen before.">Tracker</a></code> class is to reduce all this clutter:</p>
<div class="fragment"><div class="line"><span class="comment">// C++03</span></div>
<div class="line">Tracker&lt;Thing, Identifier&gt; tracker;</div>
<div class="line"><span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><span class="keywordflow">while</span> (!done) {</div>
<div class="line">    std::vector&lt;Thing&gt; things = findSomeThings(); <span class="comment">// unsorted</span></div>
<div class="line">    tracker.removeIfSeen(things);</div>
<div class="line">    done = things.empty();</div>
<div class="line">    process(things);</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="Tracker_8h_source.html#l00165">165</a> of file <a class="el" href="Tracker_8h_source.html">Tracker.h</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="Tracker_8h_source.html">Tracker.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae7372a2eca7c1199990186b9f4abd042"><td class="memItemLeft" align="right" valign="top"><a id="ae7372a2eca7c1199990186b9f4abd042"></a>
typedef T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a></td></tr>
<tr class="memdesc:ae7372a2eca7c1199990186b9f4abd042"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceSawyer_1_1Type.html" title="Data types.">Type</a> of values represented by the tracker. <br /></td></tr>
<tr class="separator:ae7372a2eca7c1199990186b9f4abd042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4461632a3c3188701cb1488acc79df78"><td class="memItemLeft" align="right" valign="top">typedef K&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html#a4461632a3c3188701cb1488acc79df78">Key</a></td></tr>
<tr class="memdesc:a4461632a3c3188701cb1488acc79df78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Key type for the values represented by the tracker.  <a href="classSawyer_1_1Container_1_1Tracker.html#a4461632a3c3188701cb1488acc79df78">More...</a><br /></td></tr>
<tr class="separator:a4461632a3c3188701cb1488acc79df78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4bfc3a586a3cfb899d08d9c76187d7ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html#a4bfc3a586a3cfb899d08d9c76187d7ef">clear</a> ()</td></tr>
<tr class="memdesc:a4bfc3a586a3cfb899d08d9c76187d7ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make this tracker forget everything it has seen.  <a href="classSawyer_1_1Container_1_1Tracker.html#a4bfc3a586a3cfb899d08d9c76187d7ef">More...</a><br /></td></tr>
<tr class="separator:a4bfc3a586a3cfb899d08d9c76187d7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a7b5ce35e7785b52f91b8a45bac4707"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html#a6a7b5ce35e7785b52f91b8a45bac4707">testAndSet</a> (const <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &amp;value)</td></tr>
<tr class="memdesc:a6a7b5ce35e7785b52f91b8a45bac4707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test and then insert the value.  <a href="classSawyer_1_1Container_1_1Tracker.html#a6a7b5ce35e7785b52f91b8a45bac4707">More...</a><br /></td></tr>
<tr class="separator:a6a7b5ce35e7785b52f91b8a45bac4707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a87e4cab2bce92a1d283474aeaee52f"><td class="memItemLeft" align="right" valign="top"><a id="a8a87e4cab2bce92a1d283474aeaee52f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html#a8a87e4cab2bce92a1d283474aeaee52f">operator()</a> (const <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &amp;value)</td></tr>
<tr class="memdesc:a8a87e4cab2bce92a1d283474aeaee52f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unary operator is the same as <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#a6a7b5ce35e7785b52f91b8a45bac4707">testAndSet</a>. <br /></td></tr>
<tr class="separator:a8a87e4cab2bce92a1d283474aeaee52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a1c2a33927f04b696584887c1dae9c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html#a54a1c2a33927f04b696584887c1dae9c">wasSeen</a> (const <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &amp;value) const</td></tr>
<tr class="memdesc:a54a1c2a33927f04b696584887c1dae9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether a value has been encountered previously.  <a href="classSawyer_1_1Container_1_1Tracker.html#a54a1c2a33927f04b696584887c1dae9c">More...</a><br /></td></tr>
<tr class="separator:a54a1c2a33927f04b696584887c1dae9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec53861f65ae9413bf0aeed997983f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html#abec53861f65ae9413bf0aeed997983f3">insert</a> (const <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &amp;value)</td></tr>
<tr class="memdesc:abec53861f65ae9413bf0aeed997983f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cause this tracker to see a value.  <a href="classSawyer_1_1Container_1_1Tracker.html#abec53861f65ae9413bf0aeed997983f3">More...</a><br /></td></tr>
<tr class="separator:abec53861f65ae9413bf0aeed997983f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6de1775fb2f0d29492a8614d98eb888"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ab6de1775fb2f0d29492a8614d98eb888">removeIfSeen</a> (std::vector&lt; <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &gt; &amp;vector)</td></tr>
<tr class="memdesc:ab6de1775fb2f0d29492a8614d98eb888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove and track items from a vector.  <a href="classSawyer_1_1Container_1_1Tracker.html#ab6de1775fb2f0d29492a8614d98eb888">More...</a><br /></td></tr>
<tr class="separator:ab6de1775fb2f0d29492a8614d98eb888"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a4461632a3c3188701cb1488acc79df78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4461632a3c3188701cb1488acc79df78">&#9670;&nbsp;</a></span>Key</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class K  = T, class Traits  = TrackerTraits&lt;K&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef K <a class="el" href="classSawyer_1_1Container_1_1Tracker.html">Sawyer::Container::Tracker</a>&lt; T, K, Traits &gt;::<a class="el" href="classSawyer_1_1Container_1_1Tracker.html#a4461632a3c3188701cb1488acc79df78">Key</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Key type for the values represented by the tracker. </p>
<p>The tracker stores keys, not values. A key should be able to be constructed from a value. </p>

<p class="definition">Definition at line <a class="el" href="Tracker_8h_source.html#l00173">173</a> of file <a class="el" href="Tracker_8h_source.html">Tracker.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4bfc3a586a3cfb899d08d9c76187d7ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bfc3a586a3cfb899d08d9c76187d7ef">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class K  = T, class Traits  = TrackerTraits&lt;K&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSawyer_1_1Container_1_1Tracker.html">Sawyer::Container::Tracker</a>&lt; T, K, Traits &gt;::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make this tracker forget everything it has seen. </p>
<p>Thread safety: This method is thread safe. </p>

<p class="definition">Definition at line <a class="el" href="Tracker_8h_source.html#l00183">183</a> of file <a class="el" href="Tracker_8h_source.html">Tracker.h</a>.</p>

</div>
</div>
<a id="a6a7b5ce35e7785b52f91b8a45bac4707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a7b5ce35e7785b52f91b8a45bac4707">&#9670;&nbsp;</a></span>testAndSet()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class K  = T, class Traits  = TrackerTraits&lt;K&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSawyer_1_1Container_1_1Tracker.html">Sawyer::Container::Tracker</a>&lt; T, K, Traits &gt;::testAndSet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test and then insert the value. </p>
<p>Causes the specified value to be seen by this tracker and then returns whether it had been seen already.</p>
<p>Thread safety: This method is thread safe. </p>

<p class="definition">Definition at line <a class="el" href="Tracker_8h_source.html#l00193">193</a> of file <a class="el" href="Tracker_8h_source.html">Tracker.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Tracker_8h_source.html#l00221">Sawyer::Container::Tracker&lt; T, K, Traits &gt;::insert()</a>, and <a class="el" href="Tracker_8h_source.html#l00200">Sawyer::Container::Tracker&lt; T, K, Traits &gt;::operator()()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classSawyer_1_1Container_1_1Tracker_a6a7b5ce35e7785b52f91b8a45bac4707_icgraph.png" border="0" usemap="#classSawyer_1_1Container_1_1Tracker_a6a7b5ce35e7785b52f91b8a45bac4707_icgraph" alt=""/></div>
<map name="classSawyer_1_1Container_1_1Tracker_a6a7b5ce35e7785b52f91b8a45bac4707_icgraph" id="classSawyer_1_1Container_1_1Tracker_a6a7b5ce35e7785b52f91b8a45bac4707_icgraph">
<area shape="rect" title="Test and then insert the value." alt="" coords="192,39,331,80"/>
<area shape="rect" href="classSawyer_1_1Container_1_1Tracker.html#abec53861f65ae9413bf0aeed997983f3" title="Cause this tracker to see a value." alt="" coords="5,5,144,47"/>
<area shape="rect" href="classSawyer_1_1Container_1_1Tracker.html#a8a87e4cab2bce92a1d283474aeaee52f" title="Unary operator is the same as testAndSet." alt="" coords="5,71,144,112"/>
</map>
</div>

</div>
</div>
<a id="a54a1c2a33927f04b696584887c1dae9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a1c2a33927f04b696584887c1dae9c">&#9670;&nbsp;</a></span>wasSeen()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class K  = T, class Traits  = TrackerTraits&lt;K&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSawyer_1_1Container_1_1Tracker.html">Sawyer::Container::Tracker</a>&lt; T, K, Traits &gt;::wasSeen </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether a value has been encountered previously. </p>
<p>Returns true if the value has been seen before, false if not. Does not cause the value to be added to the tracker.</p>
<p>Thread safety: This method is thread safe. </p>

<p class="definition">Definition at line <a class="el" href="Tracker_8h_source.html#l00209">209</a> of file <a class="el" href="Tracker_8h_source.html">Tracker.h</a>.</p>

</div>
</div>
<a id="abec53861f65ae9413bf0aeed997983f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abec53861f65ae9413bf0aeed997983f3">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class K  = T, class Traits  = TrackerTraits&lt;K&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSawyer_1_1Container_1_1Tracker.html">Sawyer::Container::Tracker</a>&lt; T, K, Traits &gt;::insert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cause this tracker to see a value. </p>
<p>Insert the value into the tracker and return true only if it was not already present. This function is identical to <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#a6a7b5ce35e7785b52f91b8a45bac4707">testAndSet</a> and the unary function operator except it returns the opposite Boolean.</p>
<p>Thread safety: This method is thread safe. </p>

<p class="definition">Definition at line <a class="el" href="Tracker_8h_source.html#l00221">221</a> of file <a class="el" href="Tracker_8h_source.html">Tracker.h</a>.</p>

<p class="reference">References <a class="el" href="Tracker_8h_source.html#l00193">Sawyer::Container::Tracker&lt; T, K, Traits &gt;::testAndSet()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Tracker_8h_source.html#l00245">Sawyer::Container::Tracker&lt; T, K, Traits &gt;::removeIfSeen()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classSawyer_1_1Container_1_1Tracker_abec53861f65ae9413bf0aeed997983f3_cgraph.png" border="0" usemap="#classSawyer_1_1Container_1_1Tracker_abec53861f65ae9413bf0aeed997983f3_cgraph" alt=""/></div>
<map name="classSawyer_1_1Container_1_1Tracker_abec53861f65ae9413bf0aeed997983f3_cgraph" id="classSawyer_1_1Container_1_1Tracker_abec53861f65ae9413bf0aeed997983f3_cgraph">
<area shape="rect" title="Cause this tracker to see a value." alt="" coords="5,5,144,47"/>
<area shape="rect" href="classSawyer_1_1Container_1_1Tracker.html#a6a7b5ce35e7785b52f91b8a45bac4707" title="Test and then insert the value." alt="" coords="192,5,331,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classSawyer_1_1Container_1_1Tracker_abec53861f65ae9413bf0aeed997983f3_icgraph.png" border="0" usemap="#classSawyer_1_1Container_1_1Tracker_abec53861f65ae9413bf0aeed997983f3_icgraph" alt=""/></div>
<map name="classSawyer_1_1Container_1_1Tracker_abec53861f65ae9413bf0aeed997983f3_icgraph" id="classSawyer_1_1Container_1_1Tracker_abec53861f65ae9413bf0aeed997983f3_icgraph">
<area shape="rect" title="Cause this tracker to see a value." alt="" coords="208,5,347,47"/>
<area shape="rect" href="classSawyer_1_1Container_1_1Tracker.html#ab6de1775fb2f0d29492a8614d98eb888" title="Remove and track items from a vector." alt="" coords="5,5,160,47"/>
</map>
</div>

</div>
</div>
<a id="ab6de1775fb2f0d29492a8614d98eb888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6de1775fb2f0d29492a8614d98eb888">&#9670;&nbsp;</a></span>removeIfSeen()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class K  = T, class Traits  = TrackerTraits&lt;K&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSawyer_1_1Container_1_1Tracker.html">Sawyer::Container::Tracker</a>&lt; T, K, Traits &gt;::removeIfSeen </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classSawyer_1_1Container_1_1Tracker.html#ae7372a2eca7c1199990186b9f4abd042">Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove and track items from a vector. </p>
<p>Modifies <code>vector</code> by removing those items that are present in the <code>tracker</code>, and adds the other items to the <code>tracker</code>. The relative order of the items in the vector is unchanged. The vector is processed from low to high indexes as the tracker is updated.</p>
<p>One use of this is similar to <code>std::unique</code> in that it can remove duplicates from a vector. However, unlike <code>std::unique</code>, this function can operate on unsorted vectors. For example:</p>
<div class="fragment"><div class="line">std::vector&lt;int&gt; va{1, 2, 1, 8, 2, 3};</div>
<div class="line">std::vector&lt;int&gt; vb{4, 3, 2, 5, 8, 6};</div>
<div class="line">Tracker&lt;int&gt; tracker;</div>
<div class="line">tracker.removeIfSeen(va); <span class="comment">// va = {1, 2, 8, 3} tracker = {1, 2, 3, 8}</span></div>
<div class="line">tracker.removeIfSeen(vb); <span class="comment">// vb = {4, 5, 6}    tracker = {1, 2, 3, 4, 5, 6, 8}</span></div>
</div><!-- fragment --><p>Thread safety: Althrough the operations on the tracker are thread-safe, the operations on the vector are not. Therefore it's permissible to be using the specified tracker in two different threads as long as this thread is the only one accessing the vector. </p>

<p class="definition">Definition at line <a class="el" href="Tracker_8h_source.html#l00245">245</a> of file <a class="el" href="Tracker_8h_source.html">Tracker.h</a>.</p>

<p class="reference">References <a class="el" href="Tracker_8h_source.html#l00221">Sawyer::Container::Tracker&lt; T, K, Traits &gt;::insert()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classSawyer_1_1Container_1_1Tracker_ab6de1775fb2f0d29492a8614d98eb888_cgraph.png" border="0" usemap="#classSawyer_1_1Container_1_1Tracker_ab6de1775fb2f0d29492a8614d98eb888_cgraph" alt=""/></div>
<map name="classSawyer_1_1Container_1_1Tracker_ab6de1775fb2f0d29492a8614d98eb888_cgraph" id="classSawyer_1_1Container_1_1Tracker_ab6de1775fb2f0d29492a8614d98eb888_cgraph">
<area shape="rect" title="Remove and track items from a vector." alt="" coords="5,5,160,47"/>
<area shape="rect" href="classSawyer_1_1Container_1_1Tracker.html#abec53861f65ae9413bf0aeed997983f3" title="Cause this tracker to see a value." alt="" coords="208,5,347,47"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Tracker_8h_source.html">Tracker.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 19 2022 23:40:27 for ROSE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
